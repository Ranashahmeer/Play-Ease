<div class="account-shell">
  <div *ngIf=!this.isOwner class="owner-section">
  <!-- Top bar -->
  <div class="account-top">
    <h1>My Account</h1>
    <button class="team-cta" (click)="toggleTeamModal(true)">Want a Team?</button>
  </div>

  <div class="account-grid">
    <!-- LEFT: Profile -->
    <div class="left-col">
      <div class="profile-card profile-card-no-avatar">
        <div class="profile-heading">
          <h2>{{ user.name }}</h2>
          <div class="small">Member since <strong>2024</strong></div>
        </div>

        <div class="info-tiles">
          <div class="tile"><div class="tile-label">Name</div><div class="tile-value">{{ user.name }}</div></div>
          <div class="tile"><div class="tile-label">Age</div><div class="tile-value">{{ user.age }}</div></div>
          <div class="tile"><div class="tile-label">Contact</div><div class="tile-value">{{ user.contact }}</div></div>
          <div class="tile"><div class="tile-label">Email</div><div class="tile-value">{{ user.email }}</div></div>
          <div class="tile"><div class="tile-label">About</div><div class="tile-value">{{ user.about }}</div></div>
        </div>
      </div>
    </div>

    <!-- RIGHT: Bookings -->
    <div class="right-col">
      <div class="bookings-panel">
        <h3>Upcoming Bookings</h3>
        <div *ngIf="upcomingBookings.length; else noUpcoming">
          <div class="booking-card" *ngFor="let b of upcomingBookings">
            <img class="thumb" [src]="b.image || 'assets/placeholder-court.jpg'" alt="court" />
            <div class="info">
              <div class="title">{{ b.courtName }}</div>
              <div class="meta">{{ b.date }} ‚Ä¢ {{ b.time }} ‚Ä¢ {{ b.duration }}</div>
              <div class="meta small">{{ b.location }}</div>
            </div>
            <div class="actions">
              <div class="price">Rs {{ b.price }}</div>
              <button class="btn btn-danger" (click)="cancelUpcoming(b.id)">Cancel</button>
            </div>
          </div>
        </div>
        <ng-template #noUpcoming><div class="empty">No upcoming bookings yet.</div></ng-template>
      </div>

      <div class="bookings-panel">
        <h3>Booking History</h3>
        <div *ngIf="pastBookings.length; else noPast">
          <div class="booking-card" *ngFor="let b of pastBookings">
            <img class="thumb" [src]="b.image || 'assets/placeholder-court.jpg'" alt="court" />
            <div class="info">
              <div class="title">{{ b.courtName }}</div>
              <div class="meta">{{ b.date }} ‚Ä¢ {{ b.time }} ‚Ä¢ {{ b.duration }}</div>
              <div class="meta small">{{ b.location }}</div>
            </div>
            <div class="actions">
              <div class="price">Rs {{ b.price }}</div>
              <div class="status done">Completed</div>
            </div>
          </div>
        </div>
        <ng-template #noPast><div class="empty">No booking history yet.</div></ng-template>
      </div>

      <div *ngIf="hasNoBookings" class="empty-big">No bookings yet. Book a court to see it here.</div>
    </div>
  </div>
  <div class="modal-backdrop" *ngIf="showTeamModal" (click)="toggleTeamModal(false)"></div>
<div class="team-modal" *ngIf="showTeamModal" role="dialog" aria-modal="true">
  <h3 class="modal-title">Request a Team</h3>
  
  <form [formGroup]="teamForm" (ngSubmit)="sendTeamRequest()" class="modal-form">
    <div class="form-group">
      <label for="phone">Your contact number</label>
      <input id="phone" formControlName="phone" placeholder="Enter your phone number" />
    </div>

    <div class="form-group">
      <label for="message">Message (tell us what you need)</label>
      <textarea id="message" formControlName="message" rows="4" placeholder="Write your message..."></textarea>
    </div>

    <div class="modal-actions">
      <button type="button" class="btn btn-outline" (click)="toggleTeamModal(false)">
        ‚Üê Back
      </button>
      <button type="submit" class="btn btn-primary">
        üöÄ Send Request
      </button>
    </div>
  </form>
</div>

</div>
<!-- OWNER VIEW -->
<div *ngIf=this.isOwner class="owner-section">
  
  <!-- Owner Info Card -->
  <div class="profile-card">
    <h2>Owner Details</h2>
    <div class="info-tiles">
      <div class="tile">
        <div class="tile-label">Full Name</div>
        <div class="tile-value">{{ owner?.fullname }}</div>
      </div>
      <div class="tile">
        <div class="tile-label">Email</div>
        <div class="tile-value">{{ owner?.email }}</div>
      </div>
      <div class="tile">
        <div class="tile-label">Phone</div>
        <div class="tile-value">{{ owner?.phone }}</div>
      </div>
      <div class="tile">
        <div class="tile-label">CNIC</div>
        <div class="tile-value">{{ owner?.cnic }}</div>
      </div>
    </div>
    <p class="owner-about">{{ owner?.about }}</p>
  </div>

  <!-- Courts Owned -->
  <div class="courts-panel">
    <h2>Your Courts</h2>
    <div *ngIf="!ownerCourts.length" class="empty">You don‚Äôt own any courts yet.</div>
    
    <div *ngFor="let court of ownerCourts" class="court-card">
      <img [src]="court.image" alt="{{court.name}}" class="court-thumb" />
      <div class="court-info">
        <div class="court-name">{{ court.name }}</div>
        <div class="court-meta">
          üìç {{ court.location }} | ‚è∞ {{ court.opening }} - {{ court.closing }}
        </div>
        <div class="court-rating">‚≠ê {{ court.rating }}</div>
      </div>
    </div>
  </div>

  <!-- Register Court Button -->
  <div class="register-court-btn">
    <button class="btn btn-primary" (click)=addCourt()>
      + Register New Court
    </button>
  </div>
</div>

<button *ngIf="AuthLoginLogoutService.isAuthenticated()" (click)="logout()" class="team-cta">
  Logout
</button>
</div>
